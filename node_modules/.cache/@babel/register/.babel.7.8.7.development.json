{
  "{\"sourceRoot\":\"/Users/erichrobinson/Projects/reddit-notifier\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/erichrobinson/Projects/reddit-notifier\",\"filename\":\"/Users/erichrobinson/Projects/reddit-notifier/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/erichrobinson/Projects/reddit-notifier\",\"plugins\":[{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.8.7": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/erichrobinson/Projects/reddit-notifier",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/erichrobinson/Projects/reddit-notifier",
      "filename": "/Users/erichrobinson/Projects/reddit-notifier/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/erichrobinson/Projects/reddit-notifier",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/erichrobinson/Projects/reddit-notifier/index.js",
        "plugins": [
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/erichrobinson/Projects/reddit-notifier/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/erichrobinson/Projects/reddit-notifier",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongodb = require(\"mongodb\");\n\nvar _cron = require(\"cron\");\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _mail = _interopRequireDefault(require(\"@sendgrid/mail\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n_mongodb.MongoClient.connect('mongodb://localhost:27017/', function (err, db) {\n  _dotenv[\"default\"].config();\n\n  _mail[\"default\"].setApiKey(process.env.SENDGRID_API_KEY); // Basic reddit implementation\n  // async function getPosts() {\n  //   try {\n  //     const response = await axios.get('https://reddit.com/r/nature/top.json?count=3');\n  //     console.log(response.data.data.children);\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // }\n  // getPosts()\n  // Basic cron functionality. Need to hook up to SendGrid API\n  // get all active users\n  // for each user => get channels\n  // for each channel => get top posts\n  // send data through sendgrids\n  // var job = new CronJob('* * * * * *', function() {\n  //   console.log('You will see this message every second');\n  // }, null, true, 'America/Los_Angeles');\n  // job.start();\n\n\n  var redditNotifier = db.db('reddit-notifier');\n  var app = (0, _express[\"default\"])();\n  var port = 3000;\n  app.listen(port, function () {\n    return console.log(\"Reddit Notifier listening on port: \".concat(port));\n  });\n  redditNotifier.collection('users').ensureIndex({\n    name: 1\n  }, {\n    unique: true\n  });\n  app.post('/users/:user', /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n      var user, response;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = req.params.user;\n              response = {};\n              _context.prev = 2;\n              _context.next = 5;\n              return redditNotifier.collection('users').insertOne({\n                name: user,\n                active: true\n              });\n\n            case 5:\n              response.status = 200;\n              response.message = \"Created user \".concat(user);\n              _context.next = 14;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              console.error(\"Error creating user: \".concat(_context.t0));\n              response.status = 500;\n              response.message = _context.t0.message;\n\n            case 14:\n              res.status(response.status).json({\n                'message': response.message\n              });\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  app.put('/users/:user', /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n      var user, active, update;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              user = req.params.user;\n              active = !req.query.active || req.query.active.toLowerCase() === 'true' ? true : false;\n              _context2.prev = 2;\n              _context2.next = 5;\n              return redditNotifier.collection('users').updateOne({\n                name: user\n              }, {\n                $set: {\n                  active: active\n                }\n              });\n\n            case 5:\n              update = _context2.sent;\n              console.log(update);\n              _context2.next = 12;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](2);\n              console.error(\"Error updating user: \".concat(user, \". \").concat(_context2.t0));\n\n            case 12:\n              res.sendStatus(200);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 9]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  app.post('/users/:user/channels/:channel', /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res) {\n      var user, channel, u;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              user = req.params.user;\n              channel = req.params.channel;\n              _context3.prev = 2;\n              _context3.next = 5;\n              return redditNotifier.collection('users').findOne({\n                name: user\n              });\n\n            case 5:\n              u = _context3.sent;\n\n              if (!u) {\n                _context3.next = 9;\n                break;\n              }\n\n              _context3.next = 9;\n              return redditNotifier.collection('channels').insertOne({\n                userId: u._id,\n                name: channel,\n                subscribed: true\n              });\n\n            case 9:\n              _context3.next = 14;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](2);\n              console.error(\"Error adding channel: \".concat(channel, \" for user: \").concat(user));\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 11]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  app.get('/users/:user/channels', /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n      var user, u, channels;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              user = req.params.user;\n              _context4.next = 3;\n              return redditNotifier.collection('users').findOne({\n                name: user\n              });\n\n            case 3:\n              u = _context4.sent;\n              _context4.next = 6;\n              return redditNotifier.collection('channels').find({\n                userId: u._id\n              }).toArray();\n\n            case 6:\n              channels = _context4.sent;\n              console.log('channels', channels);\n              res.sendStatus(200);\n\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwiY29ubmVjdCIsImVyciIsImRiIiwiZG90ZW52IiwiY29uZmlnIiwic2dNYWlsIiwic2V0QXBpS2V5IiwicHJvY2VzcyIsImVudiIsIlNFTkRHUklEX0FQSV9LRVkiLCJyZWRkaXROb3RpZmllciIsImFwcCIsInBvcnQiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwiY29sbGVjdGlvbiIsImVuc3VyZUluZGV4IiwibmFtZSIsInVuaXF1ZSIsInBvc3QiLCJyZXEiLCJyZXMiLCJ1c2VyIiwicGFyYW1zIiwicmVzcG9uc2UiLCJpbnNlcnRPbmUiLCJhY3RpdmUiLCJzdGF0dXMiLCJtZXNzYWdlIiwiZXJyb3IiLCJqc29uIiwicHV0IiwicXVlcnkiLCJ0b0xvd2VyQ2FzZSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJ1cGRhdGUiLCJzZW5kU3RhdHVzIiwiY2hhbm5lbCIsImZpbmRPbmUiLCJ1IiwidXNlcklkIiwiX2lkIiwic3Vic2NyaWJlZCIsImdldCIsImZpbmQiLCJ0b0FycmF5IiwiY2hhbm5lbHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUFBLHFCQUFZQyxPQUFaLENBQW9CLDRCQUFwQixFQUFrRCxVQUFDQyxHQUFELEVBQU1DLEVBQU4sRUFBYTtBQUU3REMscUJBQU9DLE1BQVA7O0FBR0FDLG1CQUFPQyxTQUFQLENBQWlCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsZ0JBQTdCLEVBTDZELENBVTdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQSxNQUFNQyxjQUFjLEdBQUdSLEVBQUUsQ0FBQ0EsRUFBSCxDQUFNLGlCQUFOLENBQXZCO0FBQ0EsTUFBTVMsR0FBRyxHQUFHLDBCQUFaO0FBQ0EsTUFBTUMs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a0IsY0FBQUEsQ0FGeUI7QUFBQTtBQUFBLHFCQUdSL0IsY0FBYyxDQUFDTSxVQUFmLENBQTBCLFVBQTFCLEVBQXNDOEIsSUFBdEMsQ0FBMkM7QUFBRUosZ0JBQUFBLE1BQU0sRUFBRUQsQ0FBQyxDQUFDRTtBQUFaLGVBQTNDLEVBQThESSxPQUE5RCxFQUhROztBQUFBO0FBR3pCQyxjQUFBQSxRQUh5QjtBQUkvQmxDLGNBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVosRUFBd0JpQyxRQUF4QjtBQUNBMUIsY0FBQUEsR0FBRyxDQUFDZ0IsVUFBSixDQUFlLEdBQWY7O0FBTCtCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQWpDOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0QsQ0F6R0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL2VyaWNocm9iaW5zb24vUHJvamVjdHMvcmVkZGl0LW5vdGlmaWVyIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcbmltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYidcbmltcG9ydCB7IENyb25Kb2IgfSBmcm9tICdjcm9uJ1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuaW1wb3J0IHNnTWFpbCBmcm9tICdAc2VuZGdyaWQvbWFpbCdcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52J1xuXG5Nb25nb0NsaWVudC5jb25uZWN0KCdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3LycsIChlcnIsIGRiKSA9PiB7XG5cbiAgZG90ZW52LmNvbmZpZygpXG4gIFxuICBcbiAgc2dNYWlsLnNldEFwaUtleShwcm9jZXNzLmVudi5TRU5ER1JJRF9BUElfS0VZKTtcblxuXG5cblxuICAvLyBCYXNpYyByZWRkaXQgaW1wbGVtZW50YXRpb25cbiAgLy8gYXN5bmMgZnVuY3Rpb24gZ2V0UG9zdHMoKSB7XG4gIC8vICAgdHJ5IHtcbiAgLy8gICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL3JlZGRpdC5jb20vci9uYXR1cmUvdG9wLmpzb24/Y291bnQ9MycpO1xuICAvLyAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhLmNoaWxkcmVuKTtcbiAgLy8gICB9IGNhdGNoIChlcnJvcikge1xuICAvLyAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLy8gZ2V0UG9zdHMoKVxuXG4gIC8vIEJhc2ljIGNyb24gZnVuY3Rpb25hbGl0eS4gTmVlZCB0byBob29rIHVwIHRvIFNlbmRHcmlkIEFQSVxuICAvLyBnZXQgYWxsIGFjdGl2ZSB1c2Vyc1xuICAvLyBmb3IgZWFjaCB1c2VyID0+IGdldCBjaGFubmVsc1xuICAvLyBmb3IgZWFjaCBjaGFubmVsID0+IGdldCB0b3AgcG9zdHNcbiAgLy8gc2VuZCBkYXRhIHRocm91Z2ggc2VuZGdyaWRzXG4gIC8vIHZhciBqb2IgPSBuZXcgQ3JvbkpvYignKiAqICogKiAqIConLCBmdW5jdGlvbigpIHtcbiAgLy8gICBjb25zb2xlLmxvZygnWW91IHdpbGwgc2VlIHRoaXMgbWVzc2FnZSBldmVyeSBzZWNvbmQnKTtcbiAgLy8gfSwgbnVsbCwgdHJ1ZSwgJ0FtZXJpY2EvTG9zX0FuZ2VsZXMnKTtcbiAgLy8gam9iLnN0YXJ0KCk7XG5cbiAgY29uc3QgcmVkZGl0Tm90aWZpZXIgPSBkYi5kYigncmVkZGl0LW5vdGlmaWVyJylcbiAgY29uc3QgYXBwID0gZXhwcmVzcygpXG4gIGNvbnN0IHBvcnQgPSAzMDAwXG5cbiAgYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiBjb25zb2xlLmxvZyhgUmVkZGl0IE5vdGlmaWVyIGxpc3RlbmluZyBvbiBwb3J0OiAke3BvcnR9YCkpXG5cbiAgcmVkZGl0Tm90aWZpZXIuY29sbGVjdGlvbigndXNlcnMnKS5lbnN1cmVJbmRleCh7IG5hbWU6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSlcblxuICBhcHAucG9zdCgnL3VzZXJzLzp1c2VyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHJlcS5wYXJhbXMudXNlclxuICAgIGNvbnN0IHJlc3BvbnNlID0ge31cbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcmVkZGl0Tm90aWZpZXIuY29sbGVjdGlvbigndXNlcnMnKS5pbnNlcnRPbmUoe1xuICAgICAgICBuYW1lOiB1c2VyLFxuICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgIH0pXG4gICAgICByZXNwb25zZS5zdGF0dXMgPSAyMDBcbiAgICAgIHJlc3BvbnNlLm1lc3NhZ2UgPSBgQ3JlYXRlZCB1c2VyICR7dXNlcn1gXG4gICAgfVxuICAgIGNhdGNoKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgY3JlYXRpbmcgdXNlcjogJHtlcnJ9YClcbiAgICAgIHJlc3BvbnNlLnN0YXR1cyA9IDUwMFxuICAgICAgcmVzcG9uc2UubWVzc2FnZSA9IGVyci5tZXNzYWdlXG4gICAgfVxuXG4gICAgcmVzLnN0YXR1cyhyZXNwb25zZS5zdGF0dXMpLmpzb24oe1xuICAgICAgJ21lc3NhZ2UnOiByZXNwb25zZS5tZXNzYWdlLFxuICAgIH0pXG4gIH0pXG5cbiAgYXBwLnB1dCgnL3VzZXJzLzp1c2VyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHJlcS5wYXJhbXMudXNlclxuICAgIGNvbnN0IGFjdGl2ZSA9ICghcmVxLnF1ZXJ5LmFjdGl2ZSB8fCByZXEucXVlcnkuYWN0aXZlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJykgPyB0cnVlIDogZmFsc2VcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cGRhdGUgPSBhd2FpdCByZWRkaXROb3RpZmllci5jb2xsZWN0aW9uKCd1c2VycycpLnVwZGF0ZU9uZSh7IG5hbWU6IHVzZXIgfSwgeyAkc2V0OiB7IGFjdGl2ZSB9IH0pXG4gICAgICBjb25zb2xlLmxvZyh1cGRhdGUpXG4gICAgfVxuICAgIGNhdGNoKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgdXNlcjogJHt1c2VyfS4gJHtlcnJ9YClcbiAgICB9XG5cbiAgICByZXMuc2VuZFN0YXR1cygyMDApXG4gIH0pXG5cbiAgYXBwLnBvc3QoJy91c2Vycy86dXNlci9jaGFubmVscy86Y2hhbm5lbCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSByZXEucGFyYW1zLnVzZXJcbiAgICBjb25zdCBjaGFubmVsID0gcmVxLnBhcmFtcy5jaGFubmVsXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdSA9IGF3YWl0IHJlZGRpdE5vdGlmaWVyLmNvbGxlY3Rpb24oJ3VzZXJzJykuZmluZE9uZSh7IG5hbWU6IHVzZXIgfSlcbiAgICAgIC8vIGhhbmRsZSBub3QgZmluZGluZyBhIHVzZXJcbiAgICAgIGlmKHUpIHtcbiAgICAgICAgYXdhaXQgcmVkZGl0Tm90aWZpZXIuY29sbGVjdGlvbignY2hhbm5lbHMnKS5pbnNlcnRPbmUoe1xuICAgICAgICAgIHVzZXJJZDogdS5faWQsXG4gICAgICAgICAgbmFtZTogY2hhbm5lbCxcbiAgICAgICAgICBzdWJzY3JpYmVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgYWRkaW5nIGNoYW5uZWw6ICR7Y2hhbm5lbH0gZm9yIHVzZXI6ICR7dXNlcn1gKVxuICAgIH1cbiAgfSlcblxuICBhcHAuZ2V0KCcvdXNlcnMvOnVzZXIvY2hhbm5lbHMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB1c2VyID0gcmVxLnBhcmFtcy51c2VyXG4gICAgY29uc3QgdSA9IGF3YWl0IHJlZGRpdE5vdGlmaWVyLmNvbGxlY3Rpb24oJ3VzZXJzJykuZmluZE9uZSh7IG5hbWU6IHVzZXIgfSlcbiAgICBjb25zdCBjaGFubmVscyA9IGF3YWl0IHJlZGRpdE5vdGlmaWVyLmNvbGxlY3Rpb24oJ2NoYW5uZWxzJykuZmluZCh7IHVzZXJJZDogdS5faWQgfSkudG9BcnJheSgpXG4gICAgY29uc29sZS5sb2coJ2NoYW5uZWxzJywgY2hhbm5lbHMpXG4gICAgcmVzLnNlbmRTdGF0dXMoMjAwKVxuICB9KVxufSlcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "MongoClient",
        "connect",
        "err",
        "db",
        "dotenv",
        "config",
        "sgMail",
        "setApiKey",
        "process",
        "env",
        "SENDGRID_API_KEY",
        "redditNotifier",
        "app",
        "port",
        "listen",
        "console",
        "log",
        "collection",
        "ensureIndex",
        "name",
        "unique",
        "post",
        "req",
        "res",
        "user",
        "params",
        "response",
        "insertOne",
        "active",
        "status",
        "message",
        "error",
        "json",
        "put",
        "query",
        "toLowerCase",
        "updateOne",
        "$set",
        "update",
        "sendStatus",
        "channel",
        "findOne",
        "u",
        "userId",
        "_id",
        "subscribed",
        "get",
        "find",
        "toArray",
        "channels"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/erichrobinson/Projects/reddit-notifier",
      "sourcesContent": [
        "import express from 'express'\nimport { MongoClient } from 'mongodb'\nimport { CronJob } from 'cron'\nimport axios from 'axios'\nimport sgMail from '@sendgrid/mail'\nimport dotenv from 'dotenv'\n\nMongoClient.connect('mongodb://localhost:27017/', (err, db) => {\n\n  dotenv.config()\n  \n  \n  sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n\n\n\n\n  // Basic reddit implementation\n  // async function getPosts() {\n  //   try {\n  //     const response = await axios.get('https://reddit.com/r/nature/top.json?count=3');\n  //     console.log(response.data.data.children);\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // }\n\n  // getPosts()\n\n  // Basic cron functionality. Need to hook up to SendGrid API\n  // get all active users\n  // for each user => get channels\n  // for each channel => get top posts\n  // send data through sendgrids\n  // var job = new CronJob('* * * * * *', function() {\n  //   console.log('You will see this message every second');\n  // }, null, true, 'America/Los_Angeles');\n  // job.start();\n\n  const redditNotifier = db.db('reddit-notifier')\n  const app = express()\n  const port = 3000\n\n  app.listen(port, () => console.log(`Reddit Notifier listening on port: ${port}`))\n\n  redditNotifier.collection('users').ensureIndex({ name: 1 }, { unique: true })\n\n  app.post('/users/:user', async (req, res) => {\n    const user = req.params.user\n    const response = {}\n    \n    try {\n      await redditNotifier.collection('users').insertOne({\n        name: user,\n        active: true\n      })\n      response.status = 200\n      response.message = `Created user ${user}`\n    }\n    catch(err) {\n      console.error(`Error creating user: ${err}`)\n      response.status = 500\n      response.message = err.message\n    }\n\n    res.status(response.status).json({\n      'message': response.message,\n    })\n  })\n\n  app.put('/users/:user', async (req, res) => {\n    const user = req.params.user\n    const active = (!req.query.active || req.query.active.toLowerCase() === 'true') ? true : false\n\n    try {\n      const update = await redditNotifier.collection('users').updateOne({ name: user }, { $set: { active } })\n      console.log(update)\n    }\n    catch(err) {\n      console.error(`Error updating user: ${user}. ${err}`)\n    }\n\n    res.sendStatus(200)\n  })\n\n  app.post('/users/:user/channels/:channel', async (req, res) => {\n    const user = req.params.user\n    const channel = req.params.channel\n\n    try {\n      const u = await redditNotifier.collection('users').findOne({ name: user })\n      // handle not finding a user\n      if(u) {\n        await redditNotifier.collection('channels').insertOne({\n          userId: u._id,\n          name: channel,\n          subscribed: true\n        })\n      }\n    }\n    catch(err) {\n      console.error(`Error adding channel: ${channel} for user: ${user}`)\n    }\n  })\n\n  app.get('/users/:user/channels', async (req, res) => {\n    const user = req.params.user\n    const u = await redditNotifier.collection('users').findOne({ name: user })\n    const channels = await redditNotifier.collection('channels').find({ userId: u._id }).toArray()\n    console.log('channels', channels)\n    res.sendStatus(200)\n  })\n})\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1583702261986
  }
}